<?xml version="1.0" encoding="UTF-8"?>
<sequence name="DSSTest_Default_IN_SEQ" trace="disable" xmlns="http://ws.apache.org/ns/synapse">

    <call-template description="Logging" target="conf:templates/sequences/shared/Logging.xml">
        <with-param name="msg_status" value="Request Received"/>
        <with-param name="transaction_id" value="{$ctx:TRANSACTION_ID}"/>
        <with-param name="service_id" value="Changeme"/>
        <with-param name="operation_name" value="{$ctx:OPERATION_NAME}"/>
        <with-param name="msg_direction" value="Incoming"/>
        <with-param name="debug_ref" value="Request Received"/>
        <with-param name="error_detail" value="-NA-"/>
        <with-param name="sequence_name" value="DSSTest_Default_IN_SEQ"/>
    </call-template>

    <property value="404" name="HTTP_SC" scope="axis2"
              type="STRING"/>
    <payloadFactory media-type="json">
        <format>{
            "status": "Resource not found",
            "errorMessage": "Specified resource was not found.",
            "errorDescription": "Specified resource was not found.",
            "errorCode": 404,
            "list": [
            {
            "field": null,
            "code": null,
            "message": null
            }
            ]
            }
        </format>
        <args/>
    </payloadFactory>


    <call-template description="Send" target="conf:/templates/sequences/shared/SendResponse.xml">
        <with-param name="response_content_type" value="application/json"/>
        <with-param name="transaction_id" value="{$ctx:TRANSACTION_ID}"/>
        <with-param name="service_id" value="DSSTest"/>
        <with-param name="operation_name" value="{$ctx:OPERATION_NAME}"/>
    </call-template>

</sequence>
